<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Happy Valentine's Day Priyanshi â¤ï¸ğŸ˜Š</title>
  <link href="https://fonts.googleapis.com/css?family=Indie+Flower" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Amatic+SC" rel="stylesheet">
  <link rel="stylesheet" href="./css/style.css">
</head>
<body>
  <style>
    body {
      background-color: black;
      background-image: url('./assets/images/bg.gif');
      background-size: cover;
      background-repeat: no-repeat;
      background-attachment: fixed;
      background-position: center;
    }
  </style>

  <audio id="backgroundMusic" loop>
    <source src="./assets/audio/Gracie Abrams - In Between_1.mp3" type="audio/mp3">
    Your browser does not support the audio element.
  </audio>

  <audio id="clickSound" src="./assets/audio/click.mp3" preload="auto"></audio>

  <button id="musicButton" class="music-btn">
    ğŸµ Play Music
  </button>

  <button id="hintButton" class="hint-btn">
    ğŸ’¡ Need a Hint?
  </button>

  <!-- Add this new div for the hint message -->
  <div id="hintMessage" class="hint-message">
    <div class="hint-content">
      <p>Type "awesome sauce" to reveal a secret! ğŸ¤«</p>
      <button class="close-hint">âœ•</button>
    </div>
  </div>

  <div class="card">
    <div class="imgBox">
      <div class="bark"></div>
      <img src="./assets/images/last.jpg">
    </div>
    <div class="details">
      <h4 class="color1">You're not a Fossil! (YET)</h2>
      <h4 class="color2 margin">(HAPPY Valentine's Day)</h3>
      <p>Dear Priyanshi,</p>
      <p>Let's see.. .</p>
      <p>You're miles away,</p>
      <p>yet always i think of you.</p>
      <p>Your presence makes everything better,</p>
      <p>Like sunshine on a cloudy day.</p>
      <p>You are my favorite person,</p> 
      <p>my awesome sauce.</p>
      <p>So, will you be my Valentine?</p>
      <p class="text-right">Happy Valentines Day!</p>
      <p class="text-right">â™¥Shreyansh</p>
    </div>
  </div>

  <div class="valentine-container">
    <h3>Will you be my Valentine, Awesome Sauce? ğŸ’</h3>
    <div class="buttons">
      <button class="yes-btn">Yes</button>
      <button class="no-btn">No</button>
    </div>
  </div>

  <div class="loading-container">
    <div class="loading-bar">
        <div class="loading-progress"></div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  <script src="./js/script.js"></script>
  
  <!-- Secret code handler -->
  <script>
    let secretCode = '';
    const targetCode = 'awesome sauce';
    const clickSound = document.getElementById('clickSound');
    const hintButton = document.getElementById('hintButton');
    const hintMessage = document.getElementById('hintMessage');
    const closeHintBtn = document.querySelector('.close-hint');

    // Add hint button click handler
    hintButton.addEventListener('click', () => {
        hintMessage.classList.add('show');
        clickSound.currentTime = 0;
        clickSound.play().catch(error => console.log('Audio failed:', error));
    });

    // Close hint message
    closeHintBtn.addEventListener('click', () => {
        hintMessage.classList.remove('show');
        clickSound.currentTime = 0;
        clickSound.play().catch(error => console.log('Audio failed:', error));
    });

    document.addEventListener('keypress', (event) => {
        // Play click sound
        clickSound.currentTime = 0;
        clickSound.play().catch(error => console.log('Audio failed:', error));

        // Add the pressed key to the secret code
        secretCode += event.key.toLowerCase();
        
        // Keep only the last characters that could match the code
        if (secretCode.length > targetCode.length) {
            secretCode = secretCode.slice(-targetCode.length);
        }
        
        // Check if the secret code matches
        if (secretCode === targetCode) {
            console.log('Secret code matched!');
            window.location.href = 'secret-note.html';
        }
    });
  </script>
</body>
</html>